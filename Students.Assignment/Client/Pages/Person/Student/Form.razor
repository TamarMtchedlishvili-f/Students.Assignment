@using Microsoft.AspNetCore.Components
@using Students.Assignment.Shared.Courses
@using Students.Assignment.Shared.People
@using System.Net

<EditForm Model="@Student" OnValidSubmit="@OnValidSubmit">
    <DataAnnotationsValidator/>
    <div class="form-group">
        <label>ID number :</label>
        <div>
            <InputText @bind-Value="@Student.IDNumber"/>
            <ValidationMessage For="@(() => Student.IDNumber)"/>
        </div>
    </div>
    <div class="form-group">
        <label>First Name :</label>
        <div>
            <InputText @bind-Value="@Student.FirstName"/>
            <ValidationMessage For="@(() => Student.FirstName)"/>
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Last Name :</label>
            <div>
                <InputText @bind-Value="@Student.LastName"/>
                <ValidationMessage For="@(() => Student.LastName)"/>
            </div>
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Date of birth :</label>
            <div>
                <InputDate @bind-Value="@Student.DateOfBirth"/>
                <ValidationMessage For="@(() => Student.DateOfBirth)"/>
            </div>
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Gender :</label>
            <div>
                <InputSelect @bind-Value="@Student.Gender">
                    @foreach (var gender in Enum.GetValues(typeof(Person.GenderEnum)))
                    {
                        <option value="@gender">@gender</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(() => Student.Gender)"/>
            </div>
        </div>
    </div>
    <div class="form-group ">
        <div>
            <label>Date of enrollment :</label>
            <div>
                <InputDate @bind-Value="@Student.DateOfEnrollment"/>
                <ValidationMessage For="@(() => Student.DateOfEnrollment)"/>
            </div>
        </div>
    </div>
    <div class="col-md-4"> 
        <select class="form-control"> 
                    <option value="">-- Select Course --</option> 
                    @foreach (var course in Course) 
                    { 
                        <option value="@course.Id">@course.CourseName</option> 
                    } 
                </select> 
            </div> 
    <button type="submit" class="btn btn-success">
        @ButtonText
    </button>

</EditForm>


@code {

    [Parameter]
    public Student Student { get; set; }
    
    [Parameter]
    public IEnumerable<Course> Course { get; set; }

    [Parameter]
    public string ButtonText { get; set; } = "Save";

    [Parameter]
    public EventCallback OnValidSubmit { get; set; }
    
    
    

}